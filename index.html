<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GuessFM</title>
    <link rel="stylesheet" href="index.css">
    <script type="module" src="ArtistBlock.js"></script>
    <script src="index.js" type="module"></script>
</head>
<body>
    <input type="text" id="search-artist-input">
    <button id="submit-artist-search-btn">search</button>

    <div id="artist-search-results">
        
    </div>

    <div id="guesses">
        
    </div>
 
    <img id="selected-artist"/>
    <script type="module">
        import {submitSearch, selectArtist} from './index.js'

        document.querySelector('#submit-artist-search-btn').addEventListener('click',  () => submitSearch(document.querySelector('#search-artist-input').value))

        document.querySelector('#artist-search-results').addEventListener('click', event => {
            let target = event.target
            while (target && !target.classList.contains('artist-search-result')) {
                target = target.parentElement;
            }
            selectArtist(target)
        })

        document.addEventListener('keypress', key => {
            if(key.code === "Enter" && document.activeElement === document.querySelector('#search-artist-input'))
                submitSearch(document.querySelector('#search-artist-input').value)
        })
    </script>
</body>
</html>
